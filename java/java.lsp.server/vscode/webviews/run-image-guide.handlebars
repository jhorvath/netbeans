<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'none'; style-src {{cspSource}} 'self' 'unsafe-inline'; img-src {{cspSource}}; script-src {{cspSource}}"
        />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="{{cssUri}}" />
        <title>Run Container Image in Compute Instance</title>
    </head>

    <body>
        <div class="guidePageContainer">
            <div class="guidePage" role="document">

                <div class="title">
                    <h1>Run Container Image in Compute Instance</h1>
                </div>
                <div class="content">
                    <div class="subtitle">
                        <h2>Before you begin</h2>
                    </div>
                    <div class="list-steps">
                        <ul>
                            <li>You know the path to the private key file.</li>
                        </ul>
                    </div>
                    <div class="subtitle">
                        <h2>Setting Virtual Firewall</h2>
                    </div>
                    <p>
                        This is done so that docker images can be pulled from inside the instance and to allow external traffic
                    </p>

                    <div class="subtitle">
                        <h3>Adding Security List Ingress Rule</h3>
                    </div>

                    <div class="list-steps">
                        <ul>
                            <li>Open
                                <a href="https://cloud.oracle.com/compute/instances" title="Compute instances">Compute instances</a></li>
                            <li>Open Instance Details by clicking on name of the instance</li>
                            <li>Under
                                <b>Primary VNIC</b>
                                section click on <b>Subnet</b> name</li>
                            <li>Click on <b>Security Lists</b> section</li>
                            <li>Click on name of the security list</li>
                            <li>Click on
                                <b>Add Ingress Rule</b>
                                <ul class="inner-list">
                                    <li>Add Ingress rule with: Source Type:
                                        <span class="propertyValue">CIDR</span>, Source CIDR:
                                        <span class="propertyValue">0.0.0.0/0</span>, IP Protocol:
                                        <span class="propertyValue">TCP</span>, Destination Port Range:
                                        <span class="propertyValue">8080</span></li>
                                    <li>Click on <b>Add Ingress Rule</b></li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="subtitle">
                        <h2>Setting SSH config</h2>
                    </div>

                    <p>Add path to the instance private key in
                        <span class="path">{{homeDir}}/.ssh/config</span>:</p>

                    <div class="codeContainer">
                        <pre>Host {{publicIp}} instance<br />&nbsp;&nbsp;IdentityFile {{homeDir}}/<span class="unknownPath">&lt;path-to-your-key&gt;</span>/ssh-key-<span class="unknownPath">yyyy-mm-dd</span>.key</pre>
                    </div>
                </div>
                <div class="footer">
                    <p class="guideControl">
                        <input type="checkbox" id="showGuide" class="checkbox" {{showGuide}} />
                        <label for="showGuide" class="checkboxLabel">Show this page again when running this container image</label>
                    </p>
                </div>

                <script src="{{javascriptUri}}"></script>
            </div>
        </div>
    </body>
</html>